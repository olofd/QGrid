var qgrid;angular.module("ui.bootstrap.typeahead").directive("qgridTypeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(n,t,i,r,u,f,e){var o=[9,13,27,38,40];return{require:"ngModel",link:function(s,h,c,l){var ut=s.$eval(c.qgridTypeaheadMinLength)||1,tt=s.$eval(c.qgridTypeaheadWaitMs)||0,ft=s.$eval(c.qgridTypeaheadEditable)!==!1,p=t(c.qgridTypeaheadLoading).assign||angular.noop,et=t(c.qgridTypeaheadOnSelect),it=c.qgridTypeaheadInputFormatter?t(c.qgridTypeaheadInputFormatter):undefined,rt=c.qgridTypeaheadAppendToBody?s.$eval(c.qgridTypeaheadAppendToBody):!1,ot=t(c.ngModel).assign,v=e.parse(c.qgridTypeahead),b,w,a,y,k,d,g,nt;h.attr({"aria-autocomplete":"list","aria-expanded":!1});w=angular.element("<div typeahead-popup><\/div>");w.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"});angular.isDefined(c.typeaheadTemplateUrl)&&w.attr("template-url",c.typeaheadTemplateUrl);a=s.$new();s.$on("$destroy",function(){a.$destroy()});y=function(){a.matches=[];a.activeIdx=-1};k=function(n){var t={$viewValue:n};p(s,!0);i.when(v.source(s,t)).then(function(i){if(n===l.$viewValue&&b){if(i.length>0){a.activeIdx=-1;a.matches.length=0;for(var r=0;r<i.length;r++)t[v.itemName]=i[r],a.matches.push({label:v.viewMapper(a,t),model:i[r]});a.query=n;a.position=rt?f.offset(h):f.position(h);a.position.top=a.position.top+h.prop("offsetHeight")}else y();p(s,!1)}},function(){y();p(s,!1)})};y();a.query=undefined;l.$parsers.unshift(function(n){return b=!0,n&&n.length>=ut?tt>0?(d&&r.cancel(d),d=r(function(){k(n)},tt)):k(n):(p(s,!1),y()),ft?n:n?(l.$setValidity("editable",!1),undefined):(l.$setValidity("editable",!0),n)});s.openTypeAhead=function(){};l.$formatters.push(function(n){var i,r,t={};return it?(t.$model=n,it(s,t)):(t[v.itemName]=n,i=v.viewMapper(s,t),t[v.itemName]=undefined,r=v.viewMapper(s,t),i!==r?i:n)});a.select=function(n){console.log(n);var t={},i,r;t[v.itemName]=r=a.matches[n].model;i=v.modelMapper(s,t);ot(s,i);l.$setValidity("editable",!0);et(s,{$item:r,$model:i,$label:v.viewMapper(s,t)});y();h[0].focus()};h.bind("keydown",function(n){a.matches.length!==0&&o.indexOf(n.which)!==-1&&(n.preventDefault(),n.which===40?(a.activeIdx=(a.activeIdx+1)%a.matches.length,a.$digest()):n.which===38?(a.activeIdx=(a.activeIdx?a.activeIdx:a.matches.length)-1,a.$digest()):n.which===13||n.which===9?a.$apply(function(){a.activeIdx!==-1?a.select(a.activeIdx):(n.stopPropagation(),y())}):n.which===27&&(n.stopPropagation(),y(),a.$digest()))});h.bind("blur",function(){b=!1});g=function(n){h[0]!==n.target&&(y(),a.$digest())};u.bind("click",g);s.$on("$destroy",function(){u.unbind("click",g)});nt=n(w)(a);rt?u.find("body").append(nt):h.after(nt)}}}]),function(n){var t,i,r;(function(n){n[n.IsEqualTo=0]="IsEqualTo";n[n.IsNotEqualTo=1]="IsNotEqualTo";n[n.IsLessThan=2]="IsLessThan";n[n.IsLessOrEqualTo=3]="IsLessOrEqualTo";n[n.IsGreaterThan=4]="IsGreaterThan";n[n.IsGreaterOrEqualTo=5]="IsGreaterOrEqualTo";n[n.IsIn=6]="IsIn";n[n.IsNotIn=7]="IsNotIn";n[n.BeginsWith=8]="BeginsWith";n[n.DoesNotBeginWith=9]="DoesNotBeginWith";n[n.EndsWith=10]="EndsWith";n[n.DoesNotEndWith=11]="DoesNotEndWith";n[n.Contains=12]="Contains";n[n.DoesNotContain=13]="DoesNotContain";n[n.ManualFilter=14]="ManualFilter"})(n.SearchOp||(n.SearchOp={}));t=n.SearchOp,function(n){n[n.DateTime=0]="DateTime"}(n.DataType||(n.DataType={}));i=n.DataType,function(n){n[n.None=0]="None";n[n.SearchTextBox=1]="SearchTextBox";n[n.TypeaheadTexBox=2]="TypeaheadTexBox";n[n.DatePickerTextBox=3]="DatePickerTextBox"}(n.IQGridColumnHeaderStyle||(n.IQGridColumnHeaderStyle={}));r=n.IQGridColumnHeaderStyle}(qgrid||(qgrid={}));angular.module("qgrid",["ngGrid","ui.bootstrap"]),function(n){var i=function(){function n(n){typeof n=="undefined"&&(n="yyyy-MM-dd HH:mm:ss");this.format=n}return Object.defineProperty(n.prototype,"template",{get:function(){return"/src/templates/nggrid/qgrid-datetime-cell.html"},enumerable:!0,configurable:!0}),n}(),t;n.DateTimeCellFormater=i;t=function(){function n(n){this.gridModel=n}return n}();n.QGridHelper=t}(qgrid||(qgrid={}));angular.module("qgrid").directive("ngEnter",function(){return function(n,t,i){t.bind("keydown keypress",function(t){t.which===13&&(n.$apply(function(){n.$eval(i.ngEnter,{event:t})}),t.preventDefault())})}});angular.module("qgrid").directive("qgrid",["qgridService",function(n){return{scope:{qgrid:"="},templateUrl:"src/templates/qgrid/qgrid.html",controller:["$scope",function(t){n.createGrid(t)}]}}]);angular.module("qgrid").factory("qgridExtender",function(){return{deepExtend:function(n,t){for(var i in t)t[i]&&t[i].constructor&&t[i].constructor===Object?(n[i]=n[i]||{},arguments.callee(n[i],t[i])):n[i]=t[i];return n}}});angular.module("qgrid").factory("qgridDefaultQgridModel",function(){return{getNewDefault:function(){return{data:"qgrid.qgridSettings.rows",totalServerItems:"qgrid.qgridSettings.totalServerItems",headerRowHeight:75,footerRowHeight:48,headerRowTemplate:"src/templates/nggrid/qgrid-header-row-template.html",footerTemplate:"src/templates/nggrid/qgrid-footer.html",enablePaging:!0,showFooter:!0,enablePinning:!1,multiSelect:!1,useExternalSorting:!0,i18n:"en",pagingOptions:{currentPage:1,pageSize:10,pageSizes:[10,20,50]}}}}});angular.module("qgrid").factory("qgridDefaultQgridSettings",function(){return{getNewDefault:function(){return{rows:[],gridId:"DefaultGrid",domain:"",urlDataRequest:this.domain+this.gridId+"/DataRequest",urlAutoComplete:this.domain+this.gridId+"/AutoComplete",urlExport:this.domain+this.gridId+"/Export",enableAllExports:!1,enableExcelExport:!1,enablePDFExport:!1,enableCSVExport:!1,totalServerItems:0,isLoading:!1}}}}),function(n){var t=function(){function n(n,t,i,r){this.$http=n;this.$q=t;this.$timeout=i;this.qgridServverRequestBuilder=r}return n.prototype.buildServerRequestObject=function(n){return this.qgridServverRequestBuilder.constructServcerRequestObject(n)},n.prototype.performSearch=function(n){return this.loadGrid(n)},n.prototype.requestData=function(n,t){return this.$http.post(t.qgridSettings.domain+t.qgridSettings.urlDataRequest,n)},n.prototype.loadGrid=function(n){var r=this,t,i;return n.qgridSettings.isLoading=!0,t=this.$q.defer(),i=this.requestData(this.buildServerRequestObject(n),n),i.success(function(i){n.qgridSettings.rows=i.rows;n.qgridSettings.totalServerItems=i.records;t.resolve(i);i.page!==n.pagingOptions.currentPage&&(n.pagingOptions.manualPaging=!0,n.pagingOptions.currentPage=i.page,r.$timeout(function(){n.pagingOptions.manualPaging=!1},0));n.qgridSettings.isLoading=!1}),i.error(function(n){t.reject(n)}),t.promise},n.prototype.onSort=function(n,t,i){return this.loadGrid(i)},n.prototype.onPaging=function(n,t,i){if(!n.manualPaging)return this.loadGrid(i)},n.prototype.autoComplete=function(n,t){var i=this;return this.$timeout(function(){var r=i.buildServerRequestObject(t);return r.requestInfo.acc=n.field,i.$http.post(t.qgridSettings.domain+t.qgridSettings.urlAutoComplete,r).then(function(n){return n.data})},0)},n.prototype.exportGrid=function(n,t){var i=this.buildServerRequestObject(t);i.requestInfo.et=n;$.fileDownload(t.qgridSettings.domain+t.qgridSettings.urlExport,{httpMethod:"POST",data:i})},n.prototype.resetGrid=function(n){return angular.forEach(n.columnDefs,function(n){n.qgridColumnSettings.searchValue=""}),this.loadGrid(n)},n.$inject=["$http","$q","$timeout","qgridServerRequestBuilder"],n}();n.QGridOperations=t}(qgrid||(qgrid={}));angular.module("qgrid").service("qgridOperations",qgrid.QGridOperations),function(n){var t=function(){function n(n,t,i,r){this.$http=n;this.$q=t;this.$timeout=i;this.qgridExtender=r;this.createRequestGuid=function(){function n(n){var t=(Math.random().toString(16)+"000000000").substr(2,8);return n?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return n(undefined)+n(!0)+n(!0)+n(undefined)}}return n.prototype.constructServcerRequestObject=function(n){var i=this,t={requestInfo:{id:n.qgridSettings.gridId,rows:n.pagingOptions.pageSize,rguid:i.createRequestGuid()}};return t.requestSearchInfo=this.constructRequestSearchObject(n),t.requestInfo.search=this.setIsSearch(t.requestSearchInfo),t.requestInfo.sf=this.findSortField(n),t.requestInfo.sord=this.findSortOrder(n),t.requestInfo.page=t.requestInfo.search?1:n.pagingOptions.currentPage,t},n.prototype.constructRequestSearchObject=function(n){for(var t,u=!1,r=Array(),i=0;i<n.columnDefs.length;i++)t=n.columnDefs[i],t.qgridColumnSettings.searchValue&&t.qgridColumnSettings.searchValue!==""&&(u=!0),r.push({n:t.field,so:this.getShortSearchOpertionForSearchOperationEnum(t),v:t.qgridColumnSettings.searchValue,pk:t.primaryKey});return r},n.prototype.findSortOrder=function(n){if(n.sortInfo&&n.sortInfo.directions&&n.sortInfo.directions.length>0)return n.sortInfo.directions[0]},n.prototype.findSortField=function(n){if(n.sortInfo&&n.sortInfo.fields&&n.sortInfo.fields.length>0)return n.sortInfo.fields[0]},n.prototype.setIsSearch=function(n){var i,t;for(i in n)if(t=n[i].v,t&&t!=="")return!0;return!1},n.prototype.getShortSearchOpertionForSearchOperationEnum=function(n){return n.qgridColumnSettings.searchOperation===0?"eq":n.qgridColumnSettings.searchOperation===1?"ne":n.qgridColumnSettings.searchOperation===2?"lt":n.qgridColumnSettings.searchOperation===3?"le":n.qgridColumnSettings.searchOperation===4?"gt":n.qgridColumnSettings.searchOperation===5?"ge":n.qgridColumnSettings.searchOperation===6?"in":n.qgridColumnSettings.searchOperation===7?"ni":n.qgridColumnSettings.searchOperation===8?"bw":n.qgridColumnSettings.searchOperation===9?"bn":n.qgridColumnSettings.searchOperation===10?"ew":n.qgridColumnSettings.searchOperation===11?"en":n.qgridColumnSettings.searchOperation===12?"cn":n.qgridColumnSettings.searchOperation===13?"nc":n.qgridColumnSettings.searchOperation===14?"mf":"bw"},n.$inject=["$http","$q","$timeout","qgridExtender"],n}();n.ServerRequestBuilder=t}(qgrid||(qgrid={}));angular.module("qgrid").service("qgridServerRequestBuilder",qgrid.ServerRequestBuilder),function(n){var t=function(){function n(n,t,i,r){this.qgridExtender=n;this.qgridDefaultQgridModel=t;this.qgridDefaultQgridSettings=i;this.qgridOperations=r}return n.prototype.createGrid=function(n){var t=this;n.qgrid=this.setupGrid(n.qgrid);n.$watch("qgrid.qgridSettings.isLoaded",function(i){i&&t.qgridOperations.loadGrid(n.qgrid)},!0);n.$watch("qgrid.sortInfo",function(i,r){if(i.directions[0]!==r.directions[0]||i.fields[0]!==r.fields[0])t.qgridOperations.onSort(i,r,n.qgrid)},!0);n.$watch("qgrid.pagingOptions",function(i,r){if(i!==r)t.qgridOperations.onPaging(i,r,n.qgrid)},!0);n.qgrid.qgridSettings.isLoaded=!0},n.prototype.setupGrid=function(n){var f=this,t=this.qgridDefaultQgridModel.getNewDefault(),u=this.qgridDefaultQgridSettings.getNewDefault(),r,i;t.qgridSettings=u;this.qgridExtender.deepExtend(t,n);t.qgridSettings.loadGrid=function(n,t){return function(){return t.loadGrid(n)}}(t,this.qgridOperations);t.qgridSettings.exportGrid=function(n,t){return function(i){return t.exportGrid(i,n)}}(t,this.qgridOperations);t.qgridSettings.resetGrid=function(n,t){return function(){return t.resetGrid(n)}}(t,this.qgridOperations);t.qgridSettings.autoComplete=function(n,t){return function(i){return t.autoComplete(i,n)}}(t,this.qgridOperations);t.qgridSettings.performSearch=function(n,t){return function(){return t.performSearch(n)}}(t,this.qgridOperations);for(r in t.columnDefs)i=t.columnDefs[r],i.headerClass||(i.headerClass="qgrid-cell-header"),i.qgridColumnSettings&&i.qgridColumnSettings.cellFormatter&&(i.cellTemplate=i.qgridColumnSettings.cellFormatter.template),i.qgridColumnSettings.qgridColumnHeaderStyle===2&&(i.headerCellTemplate="src/templates/nggrid/qgrid-typeahead-header-cell.html"),i.qgridColumnSettings.qgridColumnHeaderStyle===1&&(i.headerCellTemplate="src/templates/nggrid/qgrid-searchtextbox-header-cell.html");return console.log(t),t},n.$inject=["qgridExtender","qgridDefaultQgridModel","qgridDefaultQgridSettings","qgridOperations"],n}();n.GridService=t}(qgrid||(qgrid={}));angular.module("qgrid").service("qgridService",qgrid.GridService);angular.module("qgrid").run(["$templateCache",function(n){"use strict";n.put("src/templates/qgrid/qgrid.html","<div ng-if=qgrid.qgridSettings.isLoaded class=qgrid ng-grid=qgrid><\/div>")}]);angular.module("ngGrid").run(["$templateCache",function(n){"use strict";console.log("Runnign");n.put("src/templates/nggrid/qgrid-datetime-cell.html",'<div class=ngCellText ng-class=col.colIndex()><span ng-cell-text="">{{row.getProperty(col.field) | date: col.colDef.qgridColumnSettings.cellFormatter.format}}<\/span><\/div>');n.put("src/templates/nggrid/qgrid-footer.html",'<div ng-show=showFooter class=qgrid-footer ng-style=footerStyle()><div class=row style="padding:0px 10px 0px 10px"><div class=col-xs-3><span class=btn-group><button type=button class="btn btn-default btn-sm" ng-click=$parent.$parent.qgrid.qgridSettings.resetGrid()><span class="fa fa-refresh"><\/span><\/button> <button type=button class="btn btn-default btn-sm dropdown-toggle" data-toggle=dropdown ng-if=$parent.$parent.qgrid.qgridSettings.enableFooterSettings><i class="fa fa-cogs"><\/i> <span class=caret><\/span><\/button><ul class=dropdown-menu><li ng-if="$parent.$parent.qgrid.qgridSettings.enableAllExports || $parent.$parent.qgrid.qgridSettings.enableExcelExport"><a href=# ng-click="$parent.$parent.qgrid.qgridSettings.exportGrid(\'Excel\')">Export to Excel<\/a><\/li><li ng-if="$parent.$parent.qgrid.qgridSettings.enableAllExports || $parent.$parent.qgrid.qgridSettings.enablePDFExport"><a href=# ng-click="$parent.$parent.qgrid.qgridSettings.exportGrid(\'PDF\')">Export to PDF<\/a><\/li><li ng-if="$parent.$parent.qgrid.qgridSettings.enableAllExports || $parent.$parent.qgrid.qgridSettings.enableCSVExport"><a href=# ng-click="$parent.$parent.qgrid.qgridSettings.exportGrid(\'CSV\')">Export to CSV<\/a><\/li><li ng-repeat="footerFunction in $parent.$parent.qgrid.qgridSettings.footerActions"><a href=# ng-click="footerFunction.callback(footerFunction, $parent.$parent.qgrid)">{{footerFunction.title}}<\/a><\/li><\/ul><\/span><\/div><div class=col-xs-6 style=text-align:center><div class=btn-group><button ng-click=pageToFirst() ng-disabled=cantPageBackward() type=button class="btn btn-default btn-sm"><i class="fa fa-step-backward qgrid-pager-button"><\/i><\/button> <button ng-click=pageBackward() ng-disabled=cantPageBackward() type=button class="btn btn-default btn-sm" style="border-right:none !important"><i class="fa fa-chevron-left qgrid-pager-button"><\/i><\/button> <span class=qgrid-pager-input><input class=ngPagerCurrent min=1 max={{currentMaxPages}} type=number style="width:49px; height: 29.5px" ng-model=pagingOptions.currentPage ng-disabled=$parent.$parent.qgrid.qgridSettings.isLoading><\/span> <button ng-click=pageForward() ng-disabled=cantPageForward() type=button class="btn btn-default btn-sm" style="border-left:none !important"><i class="fa fa-chevron-right qgrid-pager-button"><\/i><\/button> <button ng-click=pageToLast() ng-disabled=cantPageToLast() type=button class="btn btn-default btn-sm"><i class="fa fa-step-forward qgrid-pager-button"><\/i><\/button> <button type=button class="btn btn-default btn-sm dropdown-toggle" data-toggle=dropdown>{{pagingOptions.pageSize}} rows <span class=caret><\/span><\/button><ul class="dropdown-menu pull-right"><li ng-repeat="size in pagingOptions.pageSizes" ng-click="pagingOptions.pageSize = size;"><a href=#>{{size}} rows<\/a><\/li><\/ul><\/div><\/div><div class=col-xs-3><div class=qgrid-pager-container><span><span class=ngFooterTotalItems ng-class="{\'ngNoMultiSelect\': !multiSelect}"><span class=qgrid-label>{{maxRows()}} rows total<\/span> <span ng-show="filterText.length > 0" class=ngLabel>({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})<\/span><\/span> <span class=ngFooterSelectedItems ng-show=multiSelect><span class=qgrid-label>{{i18n.ngSelectedItemsLabel}} {{selectedItems.length}}<\/span><\/span><\/span> <span tooltip-placement=right tooltip="I spin when the grid is loading!"><i class="qgrid-spinner fa fa-cog" ng-class="{\'fa-spin\' : $parent.$parent.qgrid.qgridSettings.isLoading}"><\/i><\/span><\/div><\/div><\/div><\/div>');n.put("src/templates/nggrid/qgrid-header-row-template.html",'<div ng-style="{ height: col.headerRowHeight }" ng-repeat="col in renderedColumns" ng-class=col.colIndex() class=ngHeaderCell><div ng-header-cell=""><\/div><\/div>');n.put("src/templates/nggrid/qgrid-pager-steppable.html",'<ul class="pagination pagination-sm qgrid-pager"><li><a href=# ng-click=pageToFirst() ng-disabled=cantPageBackward()><span class="glyphicon glyphicon-step-backward"><\/span><\/a><\/li><li><a href=# ng-click=pageBackward() ng-disabled=cantPageBackward()><span class="glyphicon glyphicon-chevron-left"><\/span><\/a><\/li><li ng-repeat="pageLink in pageLinks" ng-show=!pageLink.hidden ng-class="{\'active\' : pageLink.active}"><a href=# ng-click=setCurrentPage(pageLink.value)>{{pageLink.title}}<\/a><\/li><li><a href=# ng-click=pageForward() ng-disabled=cantPageForward()><span class="glyphicon glyphicon-chevron-right"><\/span><\/a><\/li><li><a href=# ng-click=pageToLast() ng-disabled=cantPageToLast()><span class="glyphicon glyphicon-step-forward"><\/span><\/a><\/li><\/ul>');n.put("src/templates/nggrid/qgrid-searchtextbox-header-cell.html",'<div class="ngHeaderSortColumn {{col.headerClass}} qgrid-header-cell" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !noSortVisible }"><div ng-click=col.sort($event) ng-class="\'colt\' + col.index" class=ngHeaderText>{{col.displayName}}<\/div><form class="bs-example bs-example-form" role=form><span style="display:inline-block; padding: 0px 5px 0px 5px; width: 100%"><div class=input-group style="width: 100%"><input type=text class=form-control placeholder={{col.displayName}} ng-enter=$parent.qgrid.qgridSettings.performSearch() ng-model=col.colDef.qgridColumnSettings.searchValue><\/div><\/span><\/form><div class=ngSortButtonDown ng-show=col.showSortButtonDown()><\/div><div class=ngSortButtonUp ng-show=col.showSortButtonUp()><\/div><div class=ngSortPriority>{{col.sortPriority}}<\/div><div ng-class="{ ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned }" ng-click=togglePin(col) ng-show=col.pinnable><\/div><\/div><div ng-show=col.resizable class=ngHeaderGrip ng-click=col.gripClick($event) ng-mousedown=col.gripOnMouseDown($event)><\/div>');n.put("src/templates/nggrid/qgrid-typeahead-header-cell.html",'<div class="ngHeaderSortColumn {{col.headerClass}} typeahead" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !noSortVisible }"><div ng-click=col.sort($event) ng-class="\'colt\' + col.index" class=ngHeaderText>{{col.displayName}}<\/div><span style="display:inline-block; padding: 0 5px 0 5px; width: 100%"><input type=text ng-model=col.colDef.qgridColumnSettings.searchValue placeholder={{col.displayName}} ng-dblclick=openTypeAhead() qgrid-typeahead="address for address in $parent.qgrid.qgridSettings.autoComplete(col.colDef) | filter:$viewValue" qrid-typeahead-editable=true qgrid-typeahead-loading=loadingLocations class=form-control ng-enter=$parent.qgrid.qgridSettings.performSearch()><\/span><div class=ngSortButtonDown ng-show=col.showSortButtonDown()><\/div><div class=ngSortButtonUp ng-show=col.showSortButtonUp()><\/div><div class=ngSortPriority>{{col.sortPriority}}<\/div><div ng-class="{ ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned }" ng-click=togglePin(col) ng-show=col.pinnable><\/div><\/div><div ng-show=col.resizable class=ngHeaderGrip ng-click=col.gripClick($event) ng-mousedown=col.gripOnMouseDown($event)><\/div>')}]);
/*
//# sourceMappingURL=qgrid.min.js.map
*/